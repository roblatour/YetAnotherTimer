
# Yet Another Timer install to your Android phone via USB

These instructions were, for the most part, AI generated by Copilot and then edited.

I used them to install Yet Another Timer on my Galaxy S10+ cell phone.

If you have any issues or suggestions, please open an issue on this GitHub repository.

---

## Prerequisite

You must first build Yet Another Timer on your Windows computer.

See `README_Build_instructions.md`.

APK output from the build:

```
app\build\outputs\apk\debug\app-debug.apk
```

---

## 1) Prepare your Android phone (Developer Mode + USB debugging)

1. Enable Developer options
   - Settings > About phone > tap Build number 7 times until you see “You are now a developer”.
2. Enable USB debugging
   - Settings > System > Developer options > USB debugging = ON
   - On some devices (e.g., Samsung), also enable “USB debugging (Security settings)”.
   - On some OEMs (e.g., Xiaomi/MIUI or some Oppo/ColorOS), also enable “Install via USB”.
3. Connect your phone with a data‑capable USB cable
   - Unlock the screen.
   - Swipe down USB preferences and choose File Transfer (MTP) rather than “Charge only”.
4. Trust your PC
   - When prompted on the phone with “Allow USB debugging?”, tap Allow.
   - If you don’t see it, in Developer options tap “Revoke USB debugging authorizations”, then unplug/replug and look again.

Tip: In Developer options, you can enable “Stay awake” while charging so you don’t miss the trust prompt during installs.

---

## 2) Install/Update Windows USB/ADB drivers (one‑time setup on Windows)

If this is your first time using ADB with your phone on this PC, Windows may need the proper USB driver so the device shows up as an “Android Composite ADB Interface.” Try these, in order:

1. Windows Update (recommended first)
   - Settings > Windows Update > Advanced options > Optional updates > Driver updates.
   - Install any available updates related to your phone brand, “Android,” or “ADB/USB.”

2. Install your OEM’s driver
   - Samsung: Install “Samsung USB Driver for Mobile Phones” (or Samsung Smart Switch, which includes drivers) from Samsung’s official support site.
   - Google (Pixel/Nexus): Install the “Google USB Driver” using Android Studio > SDK Manager > SDK Tools > check “Google USB Driver.” The driver will be located at: `%ANDROID_SDK_ROOT%\extras\google\usb_driver`
   - Other OEMs (Motorola, OnePlus, Xiaomi, etc.): Install the official USB/ADB driver from the manufacturer’s support page.

3. Manually bind the ADB driver (Device Manager)
   - Connect the phone (unlocked) with a data cable and set USB mode to File Transfer (MTP).
   - Open Device Manager > find your phone (it may appear as “Portable Devices > [Device name]”, “Other devices”, or “Android”).
   - Right‑click > Update driver > Browse my computer > Let me pick from a list > Have Disk.
   - Point to the INF file for your driver:
     - Google: `%ANDROID_SDK_ROOT%\extras\google\usb_driver\android_winusb.inf`
     - Samsung: the INF provided by the Samsung USB driver installer.
   - Choose “Android Composite ADB Interface” (or the OEM’s ADB interface) and complete the install.

4. Verify ADB sees your device

```powershell
$adb = "$env:ANDROID_SDK_ROOT\platform-tools\adb.exe"; if (Test-Path $adb) { & $adb kill-server; & $adb start-server; & $adb devices } else { adb kill-server; adb start-server; adb devices }
```

Expected: Your device serial appears with the state “device”. If it shows “unauthorized,” accept the prompt on the phone. If it doesn’t appear, revisit steps above (USB mode, cable/port, driver).

Note: If Windows refuses a manual INF due to signature enforcement, you may need to temporarily disable driver signature enforcement, install the driver, then re‑enable it.

---

## 3) Install the app to your device

In a PowerShell window:

```powershell
adb kill-server; adb start-server
cd <the directory where the gradlew.bat file exists>
.\gradlew.bat installDebug
```

After a successful install, look for the Yet Another Timer app on your phone.

APK output (from the build):

```
app\build\outputs\apk\debug\app-debug.apk
```

Optional direct install using ADB (if you have the APK and prefer not to use Gradle):

```powershell
adb install -r app\build\outputs\apk\debug\app-debug.apk
```

---

## 4) Troubleshooting

- gradlew.bat is not recognized
  - Run from the project root and include the `.\` prefix on Windows.

- SDK location not found
  - Ensure `local.properties` has: `sdk.dir=E:\\Android\\Sdk`
  - Confirm `ANDROID_SDK_ROOT` and `sdkmanager.bat --version` in a new terminal.

- Licenses keep prompting
  - Run `sdkmanager.bat --licenses` and accept all; ensure API 34 and build-tools 34.0.0 are installed.

- Device not detected
  - Enable USB debugging and accept the trust prompt on the phone.
  - Use a known good data cable and try different USB ports (prefer rear ports on desktops).
  - Ensure USB mode is File Transfer (MTP), not “Charge only.”
  - Install/update the correct USB/ADB driver (see section 2) and bind it to “Android Composite ADB Interface.”
  - Close any phone sync apps (e.g., Samsung Smart Switch, Kies, HiSuite) while using ADB.
  - If using MIUI/ColorOS, enable “Install via USB” and “USB debugging (Security settings).”
  - Run `adb kill-server; adb start-server` and check `adb devices` again.
  - If still missing, try a different cable, port, or PC to isolate the issue.

- ADB shows “unauthorized”
  - On the phone, check for the “Allow USB debugging?” prompt and tap Allow.
  - In Developer options, tap “Revoke USB debugging authorizations,” then unplug/replug and try again.

- ADB sees multiple devices
  - Disconnect other phones/emulators so only one device is connected when running `installDebug`.

- Driver signature issues on Windows
  - If Windows blocks manual driver installs, temporarily disable driver signature enforcement, install the driver, then re‑enable it.

- ADB not found
  - Ensure Android Platform‑Tools are installed. Use the full path if needed: `%ANDROID_SDK_ROOT%\platform-tools\adb.exe`.

---

